<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="pt-br" lang="pt-br">

<head>
    <link rel="icon" type="image/png" href="assets/img/logo.png">
    <meta http-equiv="content-type" content="text/html;charset=utf-8" />
    
    <title>ForcaBRAS web</title>

    <script src="/socket.io/socket.io.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>

    <script src="/assets/js/phaser.min.js"></script>
    <script src="/bower_components/firebase/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.8.6/firebase.js"></script>

    <script src="/assets/js/Boot.js" type="text/javascript"></script>
    <script src="/assets/js/Preloader.js" type="text/javascript"></script>
    <script src="/assets/js/MainMenu.js" type="text/javascript"></script>
    <script src="/assets/js/Escolha.js" type="text/javascript"></script>
    <script src="/assets/js/Sobre.js" type="text/javascript"></script>
    <script src="/assets/js/Nivel.js" type="text/javascript"></script>
    <script src="/assets/js/Personagens.js" type="text/javascript"></script>
    <script src="/assets/js/TesteSprite.js" type="text/javascript"></script>
    
    <!-- Firebase App is always required and must be first -->
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-app.js"></script>

    <!-- Add additional services that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-messaging.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.7.1/firebase-functions.js"></script>

    <style>
        body{
            padding: 0;
            margin: 0;
        }

        canvas{
            margin: 0 auto;
        }
    </style>
</head>

<body>
    <div id="game"></div>
    <div id="orientation"></div>
    
    
<script type="text/javascript">
    var socket = io();
    ///- REQUIRE FN
    // equivalent to require from node.js
    function require(url){
        if (url.toLowerCase().substr(-3)!=='.js') url+='.js'; // to allow loading without js suffix;
        if (!require.cache) require.cache=[]; //init cache
        var exports=require.cache[url]; //get from cache
        if (!exports) { //not cached
                try {
                    exports={};
                    var X=new XMLHttpRequest();
                    X.open("GET", url, 0); // sync
                    X.send();
                    if (X.status && X.status !== 200)  throw new Error(X.statusText);
                    var source = X.responseText;
                    // fix (if saved form for Chrome Dev Tools)
                    if (source.substr(0,10)==="(function("){ 
                        var moduleStart = source.indexOf('{');
                        var moduleEnd = source.lastIndexOf('})');
                        var CDTcomment = source.indexOf('//@ ');
                        if (CDTcomment>-1 && CDTcomment<moduleStart+6) moduleStart = source.indexOf('\n',CDTcomment);
                        source = source.slice(moduleStart+1,moduleEnd-1); 
                    } 
                    // fix, add comment to show source on Chrome Dev Tools
                    source="//@ sourceURL="+window.location.origin+url+"\n" + source;
                    //------
                    var module = { id: url, uri: url, exports:exports }; //according to node.js modules 
                    var anonFn = new Function("require", "exports", "module", source); //create a Fn with module code, and 3 params: require, exports & module
                    anonFn(require, exports, module); // call the Fn, Execute the module
                    require.cache[url]  = exports = module.exports; //cache obj exported by module
                } catch (err) {
                    throw new Error("Error loading module "+url+": "+err);
                }
        }
        return exports; //require returns object exported by module
    }
    ///- END REQUIRE FN


    (function () {
    var game = new Phaser.Game(1024, 600, Phaser.CANVAS, 'game');
    
    game.Teste = 'MainMenu';

    game.state.add('Boot', ForcaBRAS.Boot);
    game.state.add('Preloader', ForcaBRAS.Preloader);
    game.state.add('MainMenu', ForcaBRAS.MainMenu);
    game.state.add('TelaEscolha', ForcaBRAS.TelaEscolha);
    game.state.add('Sobre', ForcaBRAS.Sobre);
    game.state.add('TelaNivel', ForcaBRAS.TelaNivel);
    game.state.add('Personagens', ForcaBRAS.Personagens);
    game.state.add('TesteSprite', ForcaBRAS.TesteSprite);

    // Initialize Firebase
    var config = {
        apiKey: "AIzaSyA1CmoYnpjbYGQcVl3b1qMCtjoJPCx5FEM",
        authDomain: "forcabras-phaser.firebaseapp.com",
        databaseURL: "https://forcabras-phaser.firebaseio.com",
        projectId: "forcabras-phaser",
        storageBucket: "forcabras-phaser.appspot.com",
        messagingSenderId: "576013453414"
    }; firebase.initializeApp(config);

    game.state.start('Boot');

    })();

</script>
</body>
</html>
